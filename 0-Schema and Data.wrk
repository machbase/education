{"data":[{"id":"1692668021624557","contents":"TAG_STAT Practice\n======\nPractice overview.\n------\nThe following practice is based on the Windows operating system.\n * Importing CSV files into the TAG table, followed by practicing data retrieval and visualization.\n * Create the TAG table and the ROLLUP table.\n * Check the schema information of the created tables.\n * Use the 'import' command to import a CSV file into the database.\n * Retrieve TAG STAT data.\n * Simple data visualization. – web browser chart\n\nDownload practice files.\n------\n * Create a Machbase-neo directory. ( ex) C:\\Mahcbase-neo )\n * File download in Machbase-neo dir. [Download_link](http://dl.machbase.com/neo/home.zip)\n * Extract the file.\n```html\nhome.zip Unzip or extract the compressed file. (Unzip or extract the compressed file here.)\n```\n * Check the files and their contents. ( You can check in the CMD window, and you can skip this step if desired. )\n```cmd\ncd C:\\Mahcbase-neo\ndir\nmore home.csv\n```","height":200,"lineHeight":19,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1692668071296413","type":"mrk","contents":"Create the TAG table.\n------\n* TAG table creation script.","status":true,"height":200,"lang":[["markdown","Markdown"],["SQL","SQL"],["javascript","TQL"]],"minimal":true,"result":""},{"id":"1692668115183775","contents":"create tag table tag (name varchar(80) primary key, time datetime basetime, value double summarized) with rollup tag_partition_count=2;","height":45,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true,"brief":true},{"id":"1692668173167799","contents":"* Verify table creation.\n```shell\nmachbase-neo>> show tables;\nmachbase-neo>> show tables -a;\nmachbase-neo>> desc tag;\n```\nLoad TAG data\n------\n* TAG DATA FILE (filename: home.csv)\n```cmd\nbarn,1677646800,0.03135\ndew_point,1677646800,24.4\ndishwasher,1677646800,3.33e-05\nfridge,1677646800,0.12415\nfurnace,1677646800,0.0207\ngarage_door,1677646800,0.0130833\ngen,1677646800,0.00348333\nhome_office,1677646800,0.442633\nhouse_overall,1677646800,0.932833\nhumidity,1677646800,0.62\n…\n```\n * Load and verify TAG data.\n```shell\nmachbase-neo>> import --input C:\\Machbase-neo\\home.csv --timeformat s --method append TAG;\n```\n","height":200,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1692668212168258","type":"sql","contents":"select count(*) from tag;","status":true,"height":42,"lang":[["SQL","SQL"],["markdown","Markdown"],["javascript","TQL"]],"minimal":false,"result":""},{"id":"1692668473311831","type":"sql","contents":"select count(*) from _tag_rollup_min;\t","status":true,"height":42,"lang":[["SQL","SQL"],["markdown","Markdown"],["javascript","TQL"]],"minimal":false,"result":""},{"id":"1692668472695702","type":"sql","contents":"select count(*) from _tag_rollup_hour;","status":true,"height":44,"lang":[["SQL","SQL"],["markdown","Markdown"],["javascript","TQL"]],"minimal":false,"result":""},{"id":"1692668471090284","type":"mrk","contents":"If in batch mode, the rollup is generated immediately without waiting for the scheduled time.                          ","status":true,"height":200,"lang":[["markdown","Markdown"],["SQL","SQL"],["javascript","TQL"]],"minimal":true,"result":""},{"id":"1692668571967261","type":"sql","contents":"exec rollup_force;","status":true,"height":43,"lang":[["SQL","SQL"],["markdown","Markdown"],["javascript","TQL"]],"minimal":false,"result":""},{"id":"1692669880344413","contents":" * Retrieve the daily average and maximum values of a specific tag over the entire period.","height":200,"lineHeight":19,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1692669888456833","type":"sql","contents":"select time rollup 1 day time, avg(value), max(value) from tag where name = 'use' \ngroup by time order by time;","status":true,"height":64,"lang":[["SQL","SQL"],["markdown","Markdown"],["javascript","TQL"]],"minimal":false,"result":""},{"id":"1692669920288563","type":"mrk","contents":"Retrieve STAT data.\n------\n * Retrieve table schema.\n```shell\nmachbase-neo>> desc v$tag_stat;\n```\n * Retrieve the count of data entries per TAG. (V$TAG_STAT table)","status":true,"height":200,"lang":[["markdown","Markdown"],["SQL","SQL"],["javascript","TQL"]],"minimal":true,"result":""},{"id":"1692669927416905","type":"sql","contents":"select name, row_count from v$tag_stat order by 1;","status":true,"height":42,"lang":[["SQL","SQL"],["markdown","Markdown"],["javascript","TQL"]],"minimal":false,"result":""},{"id":"1692670020139926","type":"mrk","contents":" * Retrieve the count of data entries per TAG. (TAG table)","status":true,"height":200,"lang":[["markdown","Markdown"],["SQL","SQL"],["javascript","TQL"]],"minimal":true,"result":""},{"id":"1692670027271196","contents":"select name,count(*) from tag group by name order by 1;","height":38,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true,"brief":true},{"id":"1692670052791538","contents":" * Retrieve the most recent input data per TAG.","height":200,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1692670068696556","contents":"select * from tag where name = 'use' and \ntime = ( select recent_row_time from v$tag_stat where name = 'use');","height":69,"lineHeight":19,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1692671121656730","contents":"Closing words\n------\nYou created a \"Tag\" table and loaded the existing data from the \"home.csv\" file using the import command. \n\nAfter loading the data, you examined the raw data to confirm its contents. \n\nYou then utilized the v$tag_stat features provided by Machbase to perform a simple analysis of the data.","height":200,"lineHeight":19,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true}]}