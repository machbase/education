{"data":[{"id":"1723442436325664","contents":"# Create User for Practice.","height":46,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723442465555675","contents":"Drop user test1;\r\nCreate user test1 identified by 'test1';","height":52,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true,"brief":true},{"id":"1723443509860477","contents":"show users;","height":40,"lineHeight":19,"minimal":false,"type":"shell","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723442884375721","contents":"# Create Table for Practice.","height":36,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723442817431462","contents":"drop table tag cascade;\r\ncreate tag table tag( name varchar(20) primary key, time datetime basetime,value double summarized) with rollup(min) extension tag_partition_count=1;","height":67,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true,"brief":true},{"id":"1723443114842154","contents":"show tables -a;","height":36,"lineHeight":19,"minimal":false,"type":"shell","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"172344991559548","contents":"-- \r\ngrant select on tag to test1;","height":59,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true,"brief":true},{"id":"1723443914059625","contents":"# Duplicate Check.\r\n\r\nInput data.","height":78,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723444189973501","contents":"INSERT INTO tag VALUES('Pneumatic', '2024-01-01 09:00:00 000:000:001', 0.3);\r\nINSERT INTO tag VALUES('Pneumatic', '2024-01-02 09:00:00 000:000:001', 0.4);    \r\nINSERT INTO tag VALUES('Pneumatic', '2024-01-02 09:00:00 000:000:002', 0.5);\r\nINSERT INTO tag VALUES('Pneumatic', '2024-01-02 09:00:00 000:000:002', 1.1); -- Duplicate Data\r\nINSERT INTO tag VALUES('Pneumatic', '2024-01-03 09:00:00 000:000:003', 0.6);\r\n\r\nINSERT INTO tag VALUES('Hydraulics', '2024-01-04 09:00:00 000:000:001', 0.7);\r\nINSERT INTO tag VALUES('Hydraulics', '2024-01-04 09:00:00 000:000:001', 1.2); -- Duplicate Data\r\nINSERT INTO tag VALUES('Hydraulics', '2024-01-04 09:00:00 000:000:001', 2.3); -- Duplicate Data\r\nINSERT INTO tag VALUES('Hydraulics', '2024-01-04 09:00:00 000:000:002', 1.3);\r\nINSERT INTO tag VALUES('Hydraulics', '2024-01-04 09:00:00 000:000:003', 2.4);","height":224,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true,"brief":true},{"id":"1723444335191428","contents":"Data check.","height":52,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723444256340799","contents":"SELECT * FROM tag WHERE NAME = 'Pneumatic';","height":37,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true,"brief":true},{"id":"1723444411955958","contents":"SELECT * FROM tag WHERE NAME = 'Hydraulics';","height":30,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true,"brief":true},{"id":"1723443251220748","contents":"# Load Data for Practice.\r\nFirst : unzip home.zip","height":50,"lineHeight":19,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723443297059637","contents":"import --input C:\\machbase-neo\\education\\Practice\\homes.csv --timeformat s --method append TAG;","height":41,"lineHeight":19,"minimal":false,"type":"shell","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"172344599571562","contents":"Load Data check.","height":29,"lineHeight":19,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723446026222648","contents":"select * from _tag_meta;\r\nselect count(*) from tag;\r\nselect to_char(min(time)), to_char(max(time)) from tag;","height":70,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true,"brief":true},{"id":"1723446264149659","contents":"# Full backup & Mount data","height":38,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723446408452370","contents":"backup database into disk='FullBackup';\r\n\r\nmount database 'FullBackup' to mntdb;\r\n\r\nselect count(*) from mntdb.sys.tag;\r\n\r\nselect to_char(min(time)), to_char(max(time)) from mntdb.sys.tag;\r\n\r\numount database mntdb;\r\n\r\nselect count(*) from mntdb.sys.tag;","height":243,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true,"brief":true},{"id":"1723446989891534","contents":"# Select Raw Data;","height":63,"lineHeight":19,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723447262564930","contents":"-- min time, max time for 'use' tag\r\nselect to_char(min(time)), to_char(max(time)) from tag where name = 'use';\r\n\r\n-- count for tagname and time \r\nselect count(*) from tag where name = 'use' and time between to_date('2024-03-01 11:00:00') and to_date('2024-03-01 11:59:59');\r\n\r\n-- raw data\r\nselect name, to_char(time), value from tag where name = 'use' and time between to_date('2024-03-01 11:00:00') and to_date('2024-03-01 11:59:59') limit 5;\r\n\r\n-- raw data desc\r\nselect /*+ SCAN_BACKWARD(tag) */ name, to_char(time), value from tag where name = 'use' and time between to_date('2024-03-01 11:00:00') and to_date('2024-03-01 11:59:59') limit 5;","height":242,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true,"brief":true},{"id":"1723447008865352","contents":"# Select Rollup Data;","height":60,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723447667993400","contents":"select to_char(rollup('min', 1, time, '2024-03-01 13:00:00')) time, first(time, value), last(time, value) from tag \r\nwhere name = 'use' and time between to_date('2024-03-01 13:00:00') and to_date('2024-03-01 14:59:59') \r\ngroup by time order by time;\r\n\r\nselect to_char(rollup('min', 10, time)) time, avg(value) from tag where name = 'use' \r\nand time between to_date('2024-03-01 13:00:00') and to_date('2024-03-01 14:59:59') \r\ngroup by time order by time;\r\n\r\nselect to_char(rollup('hour', 1, time)) time, min(value), max(value) from tag where name = 'pressure' \r\nand time >= to_date('2024-03-01') and time < to_date('2024-03-02') \r\ngroup by time order by time;\r\n\r\nselect to_char(rollup('day', 1, time)) time, count(value), sum(value) from tag where name = 'barn' \r\ngroup by time order by time;","height":289,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true,"brief":true},{"id":"1723449465401655","contents":"# Select v$tag_stat.","height":50,"lineHeight":19,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"172344959031064","contents":"desc v$tag_stat;","height":49,"lineHeight":19,"minimal":false,"type":"shell","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"172344968282797","contents":"select name, row_count from v$tag_stat order by 1;\r\n\r\nselect name,count(*) from tag group by name order by 1;\r\n\r\nselect name, to_char(time), value from tag where name = 'use' and time = ( select recent_row_time from v$tag_stat where name = 'dew_point');","height":125,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true,"brief":true},{"id":"1723449065348374","contents":"# Delete data from tag.","height":69,"lineHeight":19,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723449107684351","contents":"delete from tag before to_date('2024-03-02 00:00:00');\r\n\r\nselect count(*) from tag;\r\n\r\nselect to_char(min(time)), to_char(max(time)) from tag;","height":118,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true,"brief":true},{"id":"1723448727439678","contents":"# Table backup & Mount data","height":63,"lineHeight":19,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723449270387278","contents":"BACKUP TABLE TAG INTO DISK = 'TB_TAG';\r\n\r\nmount database 'TB_TAG' to mntdb;\r\n\r\nselect count(*) from mntdb.sys.tag;\r\n\r\nselect to_char(min(time)), to_char(max(time)) from mntdb.sys.tag;\r\n\r\numount database mntdb;\r\n\r\nselect count(*) from mntdb.sys.tag;","height":229,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true,"brief":true},{"id":"1723442687229218","contents":"# Drop User for Practice.","height":45,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true},{"id":"1723442655262345","contents":"Drop user test1;","height":60,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"],["shell","Shell"]],"result":"","status":true,"brief":true}]}