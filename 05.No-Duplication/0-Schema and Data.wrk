{"data":[{"id":"1692141889613594","contents":"# Eliminating Duplicate Transmissions\nLet's consider a server setup as follows:\n\n![alt text](http://dl.machbase.com/neodata/re1.png \"re1\")\n\nDuring data input, there are cases where duplicate transmissions occur due to human errors or network issues. \n\nThese cases involve sending the same sensor data (same time, same value) or (same time, different value).\n\n![alt text](http://dl.machbase.com/neodata/re2.png \"re1\")\n\nTo prevent duplicate transmissions and **maintain the first incoming data**, Machbase offers the configurable **TAG_DUPLICATE_CHECK_DURATION** property in its TAG Table.\n\n## Applying Properties to Tables\n\nThe approach is simple: while creating the TAG Table, you can include the property to remove duplicate transmissions.","height":196,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1693184332585846","contents":"DROP TABLE dup_tag;\r\nCREATE TAG TABLE dup_tag (name varchar(20) primary key, time datetime basetime, value double summarized) TAG_DUPLICATE_CHECK_DURATION=1;","height":75,"lineHeight":19,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true,"brief":true},{"id":"1693184365567867","contents":"By using the above CREATE query, the duplicate transmission prevention feature of Machbase is applied. The value you set for TAG_DUPLICATE_CHECK_DURATION is the **removal management duration.** When set to 1, it means that even if data from 1 day ago is duplicated, it will not be removed.\r\n\r\n## Example\r\n\r\nLet's understand this through an example:\r\n\r\nWe create a table with TAG_DUPLICATE_CHECK_DURATION = 1.\r\n\r\nSubsequently, the input data is as follows:\r\n\r\n```sql\r\nINSERT INTO dup_tag VALUES('tag1', '2024-01-01 09:00:00 000:000:001', 0);\r\nINSERT INTO dup_tag VALUES('tag1', '2024-01-02 09:00:00 000:000:001', 0);    \r\nINSERT INTO dup_tag VALUES('tag1', '2024-01-02 09:00:00 000:000:002', 0);\r\nINSERT INTO dup_tag VALUES('tag1', '2024-01-02 09:00:00 000:000:002', 1); -- Du;licate Data\r\nINSERT INTO dup_tag VALUES('tag1', '2024-01-03 09:00:00 000:000:003', 0);\r\n\r\nINSERT INTO dup_tag VALUES('tag2', '2024-01-04 09:00:00 000:000:001', 0);\r\nINSERT INTO dup_tag VALUES('tag2', '2024-01-04 09:00:00 000:000:001', 1); -- Du;licate Data\r\nINSERT INTO dup_tag VALUES('tag2', '2024-01-04 09:00:00 000:000:001', 2); -- Du;licate Data\r\nINSERT INTO dup_tag VALUES('tag2', '2024-01-04 09:00:00 000:000:002', 1);\r\nINSERT INTO dup_tag VALUES('tag2', '2024-01-04 09:00:00 000:000:003', 2);\r\n```\r\n\r\nAfter inserting the data, querying the Machbase database will yield the following result:\r\n\r\n```\r\nSELECT * FROM dup_tag where name = 'tag1';\r\n\r\n\tNAME\tTIME\t            VALUE\r\n1\ttag1\t2024-01-01 09:00:00\t0\r\n2\ttag1\t2024-01-02 09:00:00\t0\r\n3\ttag1\t2024-01-02 09:00:00\t0\r\n4\ttag1\t2024-01-03 09:00:00\t0\r\n\r\nSELECT * FROM dup_tag where name = 'tag2';\r\n\r\n\tNAME\tTIME\t            VALUE\r\n1\ttag2\t2024-01-04 09:00:00\t0\r\n2\ttag2\t2024-01-04 09:00:00\t1\r\n3\ttag2\t2024-01-04 09:00:00\t2\r\n\r\n```\r\n## Conclusion\r\n\r\nConclusion\r\nEnabling duplicate transmission removal comes with a cost in terms of resource consumption, potentially impacting input speed.\r\n\r\nIf you frequently encounter scenarios involving high instances of duplicate transmission and find it challenging to implement the functionality manually, it is advisable to leverage the duplicate transmission removal feature provided by Machbase. ","height":200,"lineHeight":19,"minimal":true,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true}]}